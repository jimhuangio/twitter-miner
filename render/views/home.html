<div ng-show="$ctrl.loggedIn === true" class="container text-center">
  <div class="row margin-lg">
    <h3 class="m0">Twitter miner</h3>
  </div>
</div>

<div ng-show="$ctrl.loggedIn === false" class="container text-center">
  <div class="row margin-lg">
    <div class="col-lg-12">
      <h4>Please log in</h4>
    </div>
  </div>
  <div class="row margin-lg">
    <div class="col-lg-12">
      <button ng-click="$ctrl.logIn()" class="btn btn-primary" type="button">Log in</button>
    </div>
  </div>
</div>

<div ng-show="$ctrl.loggedIn === true" class="container text-center">
  <div class="row margin-lg">
    <p class="m0">{{$ctrl.username}}</p>
  </div>
  <div class="row margin-lg">
    <div class="col-lg-12">
      <div class="input-group">
        <input type="text" class="form-control" placeholder="Enter user name" ng-model="$ctrl.screenName">
        <span class="input-group-btn">
          <button ng-click="$ctrl.run()" class="btn btn-primary" type="button">Search</button>
        </span>
      </div>
    </div>
  </div>
</div>

<div ng-if="$ctrl.loading === true" class="container text-center">
  <div class="row margin-lg">
    <div class="col-lg-12">
      <i class="fa fa-circle-o-notch fa-spin fa-2x fa-fw"></i>
    </div>
  </div>
</div>

<div ng-show="$ctrl.followers.length > 0" class="container">
  <div class="row margin-lg">
    <div class="col-lg-6 text-left">
      <p>Received {{$ctrl.followers.length}} from {{$ctrl.userIDs.length}} followers</p>
    </div>
    <div class="col-lg-6 text-right">
      <button class="btn btn-primary fa fa-download" uib-tooltip="Export" type="button" ng-csv="$ctrl.followers" csv-header="$ctrl.headersDescription" filename="twitter-miner.csv"></button>
    </div>
  </div>

  <div class="row margin-lg">
    <div class="col-lg-12">
      <uib-progressbar value="$ctrl.requestsCount" max="$ctrl.totalRequests">
        <span>{{$ctrl.followers.length}} / {{$ctrl.userIDs.length}}</span>
      </uib-progressbar>
    </div>
  </div>

  <div class="row margin-lg">
    <div class="col-lg-6">
      <p><strong>Page</strong></p>
      <ul class="pagination-sm margin-none" direction-links="true" uib-pagination max-size="4" total-items="$ctrl.followers.length" items-per-page="$ctrl.pageSize" ng-model="$ctrl.currentPage" ng-change="$ctrl.pageChanged()"></ul>
    </div>
    <div class="col-lg-6">
      <p><strong>Items per page</strong></p>
      <select class="form-control" ng-model="$ctrl.pageSize" ng-options="item for item in $ctrl.pagesSelectOptions"></select>
    </div>
  </div>
  <div class="row margin-lg">
    <div class="col-lg-12">
      <table class="table table-striped table-hover" ts-wrapper>
        <thead>
          <tr>
            <th ng-repeat="header in $ctrl.headersDescription">{{header}}</th>
          </tr>
        </thead>
        <tbody>
          <tr ng-repeat="follower in $ctrl.followers | pagination:($ctrl.currentPage-1)*$ctrl.pageSize | limitTo:$ctrl.pageSize track by $index" >
            <td ng-repeat="header in $ctrl.headersName">{{follower[header]}}</td>
          </tr>
        </tbody>
      </table>
    </div>
  </div>
</div>
